{"ast":null,"code":"import _objectSpread from\"C:/Users/91994/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{MenuItem,Select,Button,InputAdornment,Box}from\"@mui/material\";import{useEffect,useState}from\"react\";import SearchIcon from\"@mui/icons-material/Search\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";//Component to search the hospitals based on State and City selection.\n//API used to fetch details of hospital and set the values in formData\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchHospital(){const[states,setStates]=useState([]);const[cities,setCities]=useState([]);const[formData,setFormData]=useState({state:\"\",city:\"\"});const navigate=useNavigate();useEffect(()=>{const fetchStates=async()=>{try{const response=await axios.get(\"https://meddata-backend.onrender.com/states\");setStates(response.data);}catch(error){console.error(\"Error fetching states:\",error);}};fetchStates();},[]);useEffect(()=>{const fetchCities=async()=>{setCities([]);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{city:\"\"}));try{const data=await axios.get(\"https://meddata-backend.onrender.com/cities/\".concat(formData.state));setCities(data.data);// console.log(\"city\", data.data);\n}catch(error){console.log(\"Error in fetching city:\",error);}};if(formData.state!=\"\"){fetchCities();}},[formData.state]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();if(formData.state&&formData.city){navigate(\"/search?state=\".concat(formData.state,\"&city=\").concat(formData.city));}};return/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{display:\"flex\",gap:4,justifyContent:\"space-between\",flexDirection:{xs:\"column\",md:\"row\"}},children:[/*#__PURE__*/_jsxs(Select,{displayEmpty:true,id:\"state\",name:\"state\",value:formData.state,onChange:handleChange,startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})}),required:true,sx:{minWidth:200,width:\"100%\"},children:[/*#__PURE__*/_jsx(MenuItem,{disabled:true,value:\"\",selected:true,children:\"State\"}),states.map(state=>/*#__PURE__*/_jsx(MenuItem,{value:state,children:state},state))]}),/*#__PURE__*/_jsxs(Select,{displayEmpty:true,id:\"city\",name:\"city\",value:formData.city,onChange:handleChange,startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})}),required:true,sx:{minWidth:200,width:\"100%\"},children:[/*#__PURE__*/_jsx(MenuItem,{disabled:true,value:\"\",selected:true,children:\"City\"}),cities.map(city=>/*#__PURE__*/_jsx(MenuItem,{value:city,children:city},city))]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",size:\"large\",startIcon:/*#__PURE__*/_jsx(SearchIcon,{}),sx:{py:\"15px\",px:8,flexShrink:0},disableElevation:true,children:\"Search\"})]});}","map":{"version":3,"names":["MenuItem","Select","Button","InputAdornment","Box","useEffect","useState","SearchIcon","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","SearchHospital","states","setStates","cities","setCities","formData","setFormData","state","city","navigate","fetchStates","response","get","data","error","console","fetchCities","prev","_objectSpread","concat","log","handleChange","e","name","value","target","handleSubmit","preventDefault","component","onSubmit","sx","display","gap","justifyContent","flexDirection","xs","md","children","displayEmpty","id","onChange","startAdornment","position","required","minWidth","width","disabled","selected","map","type","variant","size","startIcon","py","px","flexShrink","disableElevation"],"sources":["C:/Users/91994/Downloads/f05a3cb6-e821-46db-b5ce-855feda8867e/src/components/SearchHospital/SearchHospital.jsx"],"sourcesContent":["import { MenuItem, Select, Button, InputAdornment, Box } from \"@mui/material\";\r\nimport { useEffect, useState } from \"react\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n//Component to search the hospitals based on State and City selection.\r\n//API used to fetch details of hospital and set the values in formData\r\nexport default function SearchHospital() {\r\n  const [states, setStates] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [formData, setFormData] = useState({ state: \"\", city: \"\" });\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchStates = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          \"https://meddata-backend.onrender.com/states\"\r\n        );\r\n        setStates(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching states:\", error);\r\n      }\r\n    };\r\n\r\n    fetchStates();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchCities = async () => {\r\n      setCities([]);\r\n      setFormData((prev) => ({ ...prev, city: \"\" }));\r\n      try {\r\n        const data = await axios.get(\r\n          `https://meddata-backend.onrender.com/cities/${formData.state}`\r\n        );\r\n        setCities(data.data);\r\n        // console.log(\"city\", data.data);\r\n      } catch (error) {\r\n        console.log(\"Error in fetching city:\", error);\r\n      }\r\n    };\r\n\r\n    if (formData.state != \"\") {\r\n      fetchCities();\r\n    }\r\n  }, [formData.state]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (formData.state && formData.city) {\r\n      navigate(`/search?state=${formData.state}&city=${formData.city}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      component=\"form\"\r\n      onSubmit={handleSubmit}\r\n      sx={{\r\n        display: \"flex\",\r\n        gap: 4,\r\n        justifyContent: \"space-between\",\r\n        flexDirection: { xs: \"column\", md: \"row\" },\r\n      }}\r\n    >\r\n      <Select\r\n        displayEmpty\r\n        id=\"state\"\r\n        name=\"state\"\r\n        value={formData.state}\r\n        onChange={handleChange}\r\n        startAdornment={\r\n          <InputAdornment position=\"start\">\r\n            <SearchIcon />\r\n          </InputAdornment>\r\n        }\r\n        required\r\n        sx={{ minWidth: 200, width: \"100%\" }}\r\n      >\r\n        <MenuItem disabled value=\"\" selected>\r\n          State\r\n        </MenuItem>\r\n        {states.map((state) => (\r\n          <MenuItem key={state} value={state}>\r\n            {state}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n\r\n      <Select\r\n        displayEmpty\r\n        id=\"city\"\r\n        name=\"city\"\r\n        value={formData.city}\r\n        onChange={handleChange}\r\n        startAdornment={\r\n          <InputAdornment position=\"start\">\r\n            <SearchIcon />\r\n          </InputAdornment>\r\n        }\r\n        required\r\n        sx={{ minWidth: 200, width: \"100%\" }}\r\n      >\r\n        <MenuItem disabled value=\"\" selected>\r\n          City\r\n        </MenuItem>\r\n        {cities.map((city) => (\r\n          <MenuItem key={city} value={city}>\r\n            {city}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        variant=\"contained\"\r\n        size=\"large\"\r\n        startIcon={<SearchIcon />}\r\n        sx={{ py: \"15px\", px: 8, flexShrink: 0 }}\r\n        disableElevation\r\n      >\r\n        Search\r\n      </Button>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}